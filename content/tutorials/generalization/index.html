<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="A2Perf is a benchmarking suite for evaluating autonomous agents on real-world problems.">
    <meta property="og:title" content="A2Perf Documentation" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="A2Perf is a benchmarking suite for evaluating autonomous agents on real-world problems." />
    <meta property="og:url" content="https://a2perf.farama.org/content/tutorials/generalization.html" /><meta property="og:image" content="https://a2perf.farama.org/_static/_static/img/logo/vectors/A2Perf-github.svg" /><meta name="twitter:card" content="summary_large_image"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Adding Custom Domains" href="../add_domain/" /><link rel="prev" title="Benchmarking Inference" href="../inference/" />
        <link rel="canonical" href="https://a2perf.farama.org/content/tutorials/generalization.html" />

    <link rel="shortcut icon" href="../../../_static/A2Perf-favicon.png"/><!-- Generated with Sphinx 7.4.7 and Furo 2023.08.19.dev1 -->
        <title>Benchmarking Generalization - A2Perf Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=3e7f4c72" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=49cbaffd" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    <header class="farama-header" aria-label="Farama header">
      <div class="farama-header__container">
        <div class="farama-header__left--mobile">
          <label class="nav-overlay-icon" for="__navigation">
            <div class="visually-hidden">Toggle site navigation sidebar</div>
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <defs></defs>
              <line x1="0.5" y1="4" x2="23.5" y2="4"></line>
              <line x1="0.232" y1="12" x2="23.5" y2="12"></line>
              <line x1="0.232" y1="20" x2="23.5" y2="20"></line>
            </svg>
          </label>
        </div>
        <div class="farama-header__left farama-header__center--mobile">
          <a href="../../../">
              <img class="farama-header__logo only-light" src="../../../_static/img/logo/vectors/A2Perf.svg" alt="Light Logo"/>
              <img class="farama-header__logo only-dark" src="../../../_static/img/logo/vectors/A2Perf-white.svg" alt="Dark Logo"/>
            <span class="farama-header__title">A2Perf Documentation</span>
          </a>
        </div>
        <div class="farama-header__right">
          <div class="farama-header-menu">
            <button class="farama-header-menu__btn" aria-label="Open Farama Menu" aria-expanded="false" aria-haspopup="true" aria-controls="farama-menu">
              <img class="farama-black-logo-invert" src="../../../_static/img/farama-logo-header.svg">
              <svg viewBox="0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline style="stroke-linecap: round; stroke-linejoin: round; fill: none; stroke-width: 2px;" points="1 7 12 18 23 7"></polyline>
              </svg>
            </button>
            <div class="farama-header-menu-container farama-hidden" aria-hidden="true" id="farama-menu">
              <div class="farama-header-menu__header">
                <a href="https://farama.org">
                  <img class="farama-header-menu__logo farama-white-logo-invert" src="../../../_static/img/farama_solid_white.svg" alt="Farama Foundation logo">
                  <span>Farama Foundation</span>
                </a>
                <div class="farama-header-menu-header__right">
                  <button id="farama-close-menu">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
                      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-close">
                      <line x1="3" y1="21" x2="21" y2="3"></line>
                      <line x1="3" y1="3" x2="21" y2="21"></line>
                    </svg>
                  </button>
                </div>
              </div>
              <div class="farama-header-menu__body">
                <!-- Response from farama.org/api/projects.json -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="page">
  <!--<header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../"><div class="brand">A2Perf Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>-->
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="farama-sidebar__title" href="../../../">
      <img class="farama-header__logo only-light" src="../../../_static/img/logo/vectors/A2Perf.svg" alt="Light Logo"/>
      <img class="farama-header__logo only-dark" src="../../../_static/img/logo/vectors/A2Perf-white.svg" alt="Dark Logo"/>
    <span class="farama-header__title">A2Perf Documentation</span>
  </a><form class="sidebar-search-container" method="get" action="../../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../basic_usage/">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_usage/#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications/">List of Publications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Environments</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../circuit_training/">Circuit Training Environments</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Circuit Training Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../circuit_training/CircuitTraining-Ariane-v0/">Ariane</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../circuit_training/CircuitTraining-ToyMacroStdcell-v0/">Toy Macro Standard Cell</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../quadruped_locomotion/">Quadruped Locomotion Environments</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Quadruped Locomotion Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quadruped_locomotion/QuadrupedLocomotion-DogPace-v0/">Dog Pace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quadruped_locomotion/QuadrupedLocomotion-DogTrot-v0/">Dog Trot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quadruped_locomotion/QuadrupedLocomotion-DogSpin-v0/">Dog Spin</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../web_navigation/">Web Navigation Environments</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Web Navigation Environments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_navigation/WebNavigation-Difficulty-01-v0/">Web Navigation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../training/">Benchmarking Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference/">Benchmarking Inference</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Benchmarking Generalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add_domain/">Adding Custom Domains</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Farama-Foundation/A2Perf">Github</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main-container">

    

    

    <div class="main">
      <div class="content">
        <div class="article-container">
          <a href="#" class="back-to-top muted-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
            </svg>
            <span>Back to top</span>
          </a>
          <div class="content-icon-container">
      <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/Farama-Foundation/A2Perf/edit/main/docs/content/tutorials/generalization.py" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
              <button class="theme-toggle" title="Toggle color theme">
                <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                <svg class="theme-icon-when-auto">
                  <use href="#svg-sun-half"></use>
                </svg>
                <svg class="theme-icon-when-dark">
                  <use href="#svg-moon"></use>
                </svg>
                <svg class="theme-icon-when-light">
                  <use href="#svg-sun"></use>
                </svg>
              </button>
            </div>
            <label class="toc-overlay-icon toc-content-icon" for="__toc">
              <div class="visually-hidden">Toggle table of contents sidebar</div>
              <i class="icon"><svg>
                  <use href="#svg-toc"></use>
                </svg></i>
            </label>
          </div>
          <article role="main">
            
            <section class="tex2jax_ignore mathjax_ignore" id="benchmarking-generalization">
<h1>Benchmarking Generalization<a class="headerlink" href="#benchmarking-generalization" title="Link to this heading">¶</a></h1>
<p>Generalization in A2Perf tests how well your trained agent performs on tasks it
wasn’t specifically trained for. This helps evaluate the robustness and
adaptability of your agent across different scenarios within the same domain.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h2>
<p>Before you begin, ensure you have completed the following:</p>
<ol class="arabic simple">
<li><p>Install A2Perf (refer to
the <a class="reference internal" href="../../basic_usage/#installation"><span class="std std-ref">Installation Guide</span></a>)</p></li>
<li><p>Complete the <a class="reference internal" href="../training/"><span class="std std-doc">Benchmarking Training Tutorial</span></a></p></li>
<li><p>Complete the <a class="reference internal" href="../inference/"><span class="std std-doc">Benchmarking Inference Tutorial</span></a></p></li>
</ol>
</section>
<section id="running-the-generalization-benchmark">
<h2>Running the Generalization Benchmark<a class="headerlink" href="#running-the-generalization-benchmark" title="Link to this heading">¶</a></h2>
<p>After running the training and inference benchmarks, you can proceed with the
generalization benchmark using the trained agent.</p>
<section id="running-locally-with-xmanager-docker">
<h3>Running Locally with XManager (Docker)<a class="headerlink" href="#running-locally-with-xmanager-docker" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xmanager<span class="w"> </span>launch<span class="w"> </span>xm_launch.py<span class="w"> </span>--<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--experiment-name<span class="o">=</span><span class="nb">test</span><span class="w">  </span><span class="se">\</span>
<span class="w">  </span>--root-dir<span class="o">=</span>~/gcs/a2perf/experiments/<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--experiment-id<span class="o">=</span>&lt;experiment-id&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--domain<span class="o">=</span>QuadrupedLocomotion-DogPace-v0<span class="w">  </span><span class="se">\</span>
<span class="w">  </span>--submission-gin-config-path<span class="o">=</span>a2perf/submission/configs/quadruped_locomotion/generalization.gin<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--participant-module-path<span class="o">=</span>a2perf/a2perf_benchmark_submission<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--participant-args<span class="o">=</span><span class="s2">&quot;root_dir=/experiment_dir,policy_name=greedy_policy&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--num-gpus<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;experiment-id&gt;</span></code> with the actual ID of your training experiment.</p>
<section id="command-line-arguments">
<h4>Command Line Arguments<a class="headerlink" href="#command-line-arguments" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--experiment-name</span></code>: Sets a name for the generalization experiment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--root-dir</span></code>: Specifies the directory where experiment logs and artifacts will
be saved.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--experiment-id</span></code>: The ID of the training experiment from which to load the
trained agent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--domain</span></code>: Specifies the domain for the generalization benchmark.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--submission-gin-config-path</span></code>: Points to the Gin configuration file for
generalization in the Quadruped Locomotion domain.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--user</span></code>: Sets the user running the experiment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--participant-module-path</span></code>: Indicates the path to the directory containing
the submission code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--participant-args</span></code>: Provides additional arguments for the participant’s
code, including the path to the trained agent and the policy name to use.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--num-gpus</span></code>: Specifies the number of GPUs to use (set to 0 for CPU-only
execution).</p></li>
</ul>
</section>
</section>
<section id="running-locally-without-docker">
<h3>Running Locally Without Docker<a class="headerlink" href="#running-locally-without-docker" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span>-1<span class="w"> </span>python<span class="w"> </span>a2perf/launch/entrypoint.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--root-dir<span class="o">=</span>~/gcs/a2perf/experiments/&lt;experiment-id&gt;/test/1<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--submission-gin-config-path<span class="o">=</span>../submission/configs/quadruped_locomotion/generalization.gin<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--participant-module-path<span class="o">=</span>../a2perf_benchmark_submission<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--participant-args<span class="o">=</span><span class="s2">&quot;root_dir=~/gcs/a2perf/experiments/&lt;experiment-id&gt;/test/1,policy_name=greedy_policy&quot;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;experiment-id&gt;</span></code> with the actual ID of your training experiment.</p>
<section id="id1">
<h4>Command Line Arguments<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CUDA_VISIBLE_DEVICES=-1</span></code>: This flag runs the benchmark on CPU. You can remove
it to use GPU for faster execution, but be aware that loading multiple
policies might exceed your GPU memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--root-dir</span></code>: Specifies the directory where the training artifacts are located
and where generalization results will be saved.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--submission-gin-config-path</span></code>: Points to the Gin configuration file for
generalization in the Quadruped Locomotion domain.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--participant-module-path</span></code>: Indicates the path to the directory containing
the submission code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--participant-args</span></code>: Provides additional arguments for the participant’s
code, including the path to the trained agent and the policy name to use.</p></li>
</ul>
</section>
</section>
</section>
<section id="generalization-configuration">
<h2>Generalization Configuration<a class="headerlink" href="#generalization-configuration" title="Link to this heading">¶</a></h2>
<p>The generalization benchmark uses a specific Gin configuration file (<a class="reference download internal" download="" href="../../../_downloads/c9917c8b7d1fd86fe1a3322e4248607c/generalization.gin"><span class="xref download myst"><code class="docutils literal notranslate"><span class="pre">A2Perf/a2perf/submission/configs/quadruped_locomotion/generalization.gin</span></code></span></a>) to define the tasks and parameters. Here’s a preview of its contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ----------------------</span>
<span class="c1"># IMPORTS</span>
<span class="c1"># ----------------------</span>
<span class="kn">import</span> <span class="nn">a2perf.submission.submission_util</span>
<span class="kn">import</span> <span class="nn">a2perf.domains.tfa.suite_gym</span>

<span class="c1"># ----------------------</span>
<span class="c1"># SUBMISSION SETUP</span>
<span class="c1"># ----------------------</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="o">%</span><span class="n">BenchmarkMode</span><span class="o">.</span><span class="n">GENERALIZATION</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">domain</span> <span class="o">=</span> <span class="o">%</span><span class="n">BenchmarkDomain</span><span class="o">.</span><span class="n">QUADRUPED_LOCOMOTION</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">run_offline_metrics_only</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">measure_emissions</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># ----------------------</span>
<span class="c1"># GENERALIZATION ENVIRONMENT PARAMETERS</span>
<span class="c1"># ----------------------</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">generalization_tasks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dog_pace&#39;</span><span class="p">,</span> <span class="s1">&#39;dog_trot&#39;</span><span class="p">,</span> <span class="s1">&#39;dog_spin&#39;</span><span class="p">]</span>
<span class="n">Submission</span><span class="o">.</span><span class="n">num_generalization_episodes</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
<p>This configuration sets up the generalization benchmark to test your agent on
three different tasks: dog pace, dog trot, and dog spin. Each task will be run
for 100 episodes.</p>
</section>
</section>

          </article>
        </div>
        <footer>
          
          <div class="related-pages">
            <a class="next-page" href="../add_domain/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Adding Custom Domains</div>
              </div>
              <svg class="furo-related-icon">
                <use href="#svg-arrow-right"></use>
              </svg>
            </a>
            
          </div>
          <div class="bottom-of-page">
            <div class="left-details">
              <div class="copyright">
                Copyright &#169; 2022 Farama Foundation
              </div>
              <!--
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            -->
            </div>
            <div class="right-details">
              <div class="icons">
                <a class="muted-link" href="https://github.com/Farama-Foundation/A2Perf/"
                  aria-label="On GitHub">
                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                      d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                    </path>
                  </svg>
                </a>
              </div>
            </div>
          </div>
          
        </footer>
      </div>
      <aside class="toc-drawer">
        
        
        <div class="toc-sticky toc-scroll">
          <div class="toc-title-container">
            <span class="toc-title">
              On this page
            </span>
          </div>
          <div class="toc-tree-container">
            <div class="toc-tree">
              <ul>
<li><a class="reference internal" href="#">Benchmarking Generalization</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#running-the-generalization-benchmark">Running the Generalization Benchmark</a><ul>
<li><a class="reference internal" href="#running-locally-with-xmanager-docker">Running Locally with XManager (Docker)</a><ul>
<li><a class="reference internal" href="#command-line-arguments">Command Line Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-locally-without-docker">Running Locally Without Docker</a><ul>
<li><a class="reference internal" href="#id1">Command Line Arguments</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#generalization-configuration">Generalization Configuration</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
        
        
      </aside>
    </div>
  </div>
</div>
    <script>
      const toggleMenu = () => {
        const menuBtn = document.querySelector(".farama-header-menu__btn");
        const menuContainer = document.querySelector(".farama-header-menu-container");
        if (document.querySelector(".farama-header-menu").classList.contains("active")) {
          menuBtn.setAttribute("aria-expanded", "false");
          menuContainer.setAttribute("aria-hidden", "true");
        } else {
          menuBtn.setAttribute("aria-expanded", "true");
          menuContainer.setAttribute("aria-hidden", "false");
        }
        document.querySelector(".farama-header-menu").classList.toggle("active");
      }

      document.querySelector(".farama-header-menu__btn").addEventListener("click", toggleMenu);
      document.getElementById("farama-close-menu").addEventListener("click", toggleMenu);
    </script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6H9C8TWXZ8"></script>
      <script>
        const enableGtag = () => {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-6H9C8TWXZ8');
        }
        (() => {
            if (!localStorage.getItem("acceptedCookieAlert")) {
                const boxElem = document.createElement("div");
                boxElem.classList.add("cookie-alert");
                const containerElem = document.createElement("div");
                containerElem.classList.add("cookie-alert__container");
                const textElem = document.createElement("p");
                textElem.innerHTML = `This page uses <a href="https://analytics.google.com/">
                                    Google Analytics</a> to collect statistics.`;
                                    containerElem.appendChild(textElem);

                const declineBtn = Object.assign(document.createElement("button"),
                  {
                    innerText: "Deny",
                    className: "farama-btn cookie-alert__button",
                    id: "cookie-alert__decline",
                  }
                );
                declineBtn.addEventListener("click", () => {
                  localStorage.setItem("acceptedCookieAlert", false);
                  boxElem.remove();
                });

                const acceptBtn = Object.assign(document.createElement("button"),
                  {
                    innerText: "Allow",
                    className: "farama-btn cookie-alert__button",
                    id: "cookie-alert__accept",
                  }
                );
                acceptBtn.addEventListener("click", () => {
                  localStorage.setItem("acceptedCookieAlert", true);
                  boxElem.remove();
                  enableGtag();
                });

                containerElem.appendChild(declineBtn);
                containerElem.appendChild(acceptBtn);
                boxElem.appendChild(containerElem);
                document.body.appendChild(boxElem);
            } else if (localStorage.getItem("acceptedCookieAlert") === "true") {
              enableGtag();
            }
        })()
      </script>

    <script src="../../../_static/documentation_options.js?v=b59dc8fc"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=7660844c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script>

      const createProjectsList = (projects, displayImages) => {
        const ulElem = Object.assign(document.createElement('ul'),
          {
            className:'farama-header-menu-list',
          }
        )
        for (let project of projects) {
          const liElem = document.createElement("li");
          const aElem = Object.assign(document.createElement("a"),
            {
              href: project.link
            }
          );
          liElem.appendChild(aElem);
          if (displayImages) {
            const imgElem = Object.assign(document.createElement("img"),
              {
                src: project.image ? imagesBasepath + project.image : imagesBasepath + "/farama_black.svg",
                alt: `${project.name} logo`,
                className: "farama-black-logo-invert"
              }
            );
            aElem.appendChild(imgElem);
          }
          aElem.appendChild(document.createTextNode(project.name));
          ulElem.appendChild(liElem);
        }
        return ulElem;
      }

      // Create menu with Farama projects by using the API at farama.org/api/projects.json
      const createCORSRequest = (method, url) => {
        let xhr = new XMLHttpRequest();
        xhr.responseType = 'json';

        if ("withCredentials" in xhr) {
          xhr.open(method, url, true);
        } else if (typeof XDomainRequest != "undefined") {
          // IE8 & IE9
          xhr = new XDomainRequest();
          xhr.open(method, url);
        } else {
          // CORS not supported.
          xhr = null;
        }
        return xhr;
      };

      const url = 'https://farama.org/api/projects.json';
      const imagesBasepath = "https://farama.org/assets/images"
      const method = 'GET';
      let xhr = createCORSRequest(method, url);

      xhr.onload = () => {
        const jsonResponse = xhr.response;
        const sections = {
          "Core Projects": [],
          "Mature Projects": {
            "Documentation": [],
            "Repositories": [],
          },
          "Incubating Projects": {
            "Documentation": [],
            "Repositories": [],
          },
          "Foundation": [
            {
              name: "About",
              link: "https://farama.org/about"
            },
            {
              name: "Standards",
              link: "https://farama.org/project_standards",
            },
            {
              name: "Donate",
              link: "https://farama.org/donations"
            }
          ]
        }

        // Categorize projects
        Object.keys(jsonResponse).forEach(key => {
          projectJson = jsonResponse[key];
          if (projectJson.website !== null) {
            projectJson.link = projectJson.website;
          } else {
            projectJson.link = projectJson.github;
          }
          if (projectJson.type === "core") {
            sections["Core Projects"].push(projectJson)
          } else if (projectJson.type == "mature") {
            if (projectJson.website !== null) {
              sections["Mature Projects"]["Documentation"].push(projectJson)
            } else {
              sections["Mature Projects"]["Repositories"].push(projectJson)
            }
          } else {
            if (projectJson.website !== null) {
              sections["Incubating Projects"]["Documentation"].push(projectJson)
            } else {
              sections["Incubating Projects"]["Repositories"].push(projectJson)
            }
          }
        })

        const menuContainer = document.querySelector(".farama-header-menu__body");

        Object.keys(sections).forEach((key, i) => {
          const sectionElem = Object.assign(
            document.createElement('div'), {
              className:'farama-header-menu__section',
            }
          )
          sectionElem.appendChild(Object.assign(document.createElement('span'),
            {
              className:'farama-header-menu__section-title' ,
              innerText: key
            }
          ))
          // is not a list
          if (sections[key].constructor !== Array) {
            const subSections = sections[key];
            const subSectionContainerElem = Object.assign(
                document.createElement('div'), {
                  className:'farama-header-menu__subsections-container',
                  style: 'display: flex'
                }
            )
            Object.keys(subSections).forEach((subKey, i) => {
              const subSectionElem = Object.assign(
                document.createElement('div'), {
                  className:'farama-header-menu__subsection',
                }
              )
              subSectionElem.appendChild(Object.assign(document.createElement('span'),
                {
                  className:'farama-header-menu__subsection-title' ,
                  innerText: subKey
                }
              ))
              const ulElem = createProjectsList(subSections[subKey], key !== 'Foundation');
              subSectionElem.appendChild(ulElem);
              subSectionContainerElem.appendChild(subSectionElem);
            })
            sectionElem.appendChild(subSectionContainerElem);
          } else {
            const projects = sections[key];
            const ulElem = createProjectsList(projects, true);
            sectionElem.appendChild(ulElem);
          }
          menuContainer.appendChild(sectionElem)
        });
      }

      xhr.onerror = function() {
        console.error("Unable to load projects");
      };

      xhr.send();
    </script>

    
    <script>
      const versioningConfig = {
        githubUser: 'Farama-Foundation',
        githubRepo: 'A2Perf',
      };
      fetch('/main/_static/versioning/versioning_menu.html').then(response => {
        if (response.status === 200) {
            response.text().then(text => {
                const container = document.createElement("div");
                container.innerHTML = text;
                document.querySelector("body").appendChild(container);
                // innerHtml doenst evaluate scripts, we need to add them dynamically
                Array.from(container.querySelectorAll("script")).forEach(oldScript => {
                    const newScript = document.createElement("script");
                    Array.from(oldScript.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value));
                    newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                    oldScript.parentNode.replaceChild(newScript, oldScript);
                });
            });
        } else {
            console.warn("Unable to load versioning menu", response);
        }
      });
    </script>

    </body>
</html>